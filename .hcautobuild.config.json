{
  "version": "1.0.0",
  "name": "HCAutoBuild Configuration",
  "description": "Configuration for Heady Connection Automated Build System",
  
  "build": {
    "mode": "auto",
    "phases": ["analyze", "extract", "merge", "test", "deploy"],
    "skipPhases": [],
    "parallel": false,
    "timeout": 3600000
  },
  
  "merge": {
    "strategy": "intelligent",
    "conflictResolution": "auto",
    "validationLevel": "strict",
    "preserveHistory": true,
    "squashCommits": true,
    "baseBranch": "main",
    "autoCleanup": true
  },
  
  "extraction": {
    "sources": {
      "electron": {
        "window_management": {
          "files": ["app/browser/window.ts", "app/browser/window_list.ts"],
          "purpose": "Multi-window support for Heady Companion",
          "transform": "heady"
        },
        "ipc_system": {
          "files": ["common/ipc/ipc_channel.ts", "renderer/ipc_renderer.ts"],
          "purpose": "Communication between UI and background services",
          "transform": "heady"
        }
      },
      "yjs": {
        "sync_engine": {
          "files": ["src/sync/sync_protocol.ts", "src/sync/awareness.ts"],
          "purpose": "Real-time task board synchronization",
          "transform": "heady"
        }
      },
      "fabric": {
        "canvas_renderer": {
          "files": ["src/canvas/renderer.ts", "src/canvas/objects.ts"],
          "purpose": "Sacred Geometry task visualization",
          "transform": "heady"
        }
      }
    },
    "outputDir": "./extracted",
    "preserveStructure": true
  },
  
  "testing": {
    "enabled": true,
    "suites": ["unit", "integration", "e2e"],
    "coverage": {
      "enabled": true,
      "threshold": 80,
      "reporters": ["text", "lcov", "html"]
    },
    "failFast": false,
    "parallel": true,
    "timeout": 30000
  },
  
  "deployment": {
    "targets": {
      "production": {
        "platform": "render",
        "buildCommand": "npm run build",
        "startCommand": "npm start",
        "healthCheck": "/api/health"
      },
      "staging": {
        "platform": "render",
        "buildCommand": "npm run build",
        "startCommand": "npm start",
        "healthCheck": "/api/health"
      },
      "development": {
        "platform": "local",
        "buildCommand": "npm run dev",
        "startCommand": "npm run dev"
      }
    },
    "artifacts": {
      "include": ["dist/**/*", "public/**/*", "src/**/*"],
      "exclude": ["node_modules", "*.log", ".git"]
    }
  },
  
  "mcp": {
    "enabled": true,
    "endpoint": "http://localhost:3100",
    "timeout": 30000,
    "retries": 3,
    "services": {
      "orchestrator": true,
      "architect": true,
      "optimizer": true,
      "conductor": true
    }
  },
  
  "storyDriver": {
    "enabled": true,
    "checkpoints": ["pre-build", "post-analyze", "post-merge", "post-test", "post-build"],
    "outputDir": "./audit_logs/autobuild",
    "format": "markdown",
    "includeMetrics": true
  },
  
  "governance": {
    "enabled": true,
    "logLevel": "info",
    "auditTrail": true,
    "contextVector": {
      "angles": ["technical", "business", "health"],
      "enabled": true
    }
  },
  
  "validation": {
    "preflightChecks": {
      "git": true,
      "node": true,
      "dependencies": true,
      "workingDirectory": "strict"
    },
    "mergeReadiness": {
      "checkConflicts": true,
      "checkDependencies": true,
      "checkTests": true
    }
  },
  
  "notifications": {
    "enabled": false,
    "channels": [],
    "events": ["build_start", "build_complete", "build_failed", "merge_complete"]
  },
  
  "advanced": {
    "verbose": false,
    "dryRun": false,
    "debug": false,
    "cacheEnabled": true,
    "maxConcurrency": 4
  }
}
